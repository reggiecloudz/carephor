{% load static %}

<div class="card h-100">
    <div class="card-header d-sm-flex align-items-center text-center justify-content-sm-between border-0 pb-0">
        <h1 class="h4 card-title">Project Applications</h1>
        <a class="btn btn-primary-soft" href="#"> 
            <i class="fa-solid fa-compass pe-1"></i> All project
        </a>
    </div>
    <div class="card-body">
        <ul class="nav nav-tabs nav-bottom-line justify-content-center justify-content-md-start">
            <li class="nav-item"> <a class="nav-link active" data-bs-toggle="tab" href="#tab-1"> Applied </a> </li>
            <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#tab-2"> Recommendations </a> </li>
            <li class="nav-item"> <a class="nav-link" data-bs-toggle="tab" href="#tab-3"> Past </a> </li>
        </ul>

        <div class="tab-content mb-0 pb-0">
            <div class="tab-pane fade show active" id="tab-1">
                {% for app in member.applications.all %}
                    <div class="card mb-3 bg-transparent border-none">
                        <div class="card-body">
                            <div class="row g-3">
                                <div class="col">
                                    <div class="mb-3">
                                        <a href="{% url 'projects:info' app.position.project.id %}" class="btn btn-primary-soft btn-sm">{{ app.position.project.name }}</a>
                                    </div>
                                    <h5>
                                        <a href="{% url 'positions:details' app.position.id %}" class="btn-link text-reset fw-bold">
                                            {{ app.position.title }}
                                        </a>
                                    </h5>
                                    <div class="d-none d-sm-inline-block">
                                        <p class="mb-2">
                                            {{ app.position.details|truncatechars:200 }}
                                        </p>
                                        <a class="small text-secondary" href="#!"> 
                                            <i class="bi bi-calendar-date pe-1"></i> 
                                            Posted on: {{ app.position.created_at|date:"M d, Y" }}
                                        </a>
                                        <a class="small text-secondary" href="#!"> &nbsp; 
                                            <i class="bi bi-heart pe-1"></i> 
                                            Cause: {{ app.position.project.cause.name }}
                                        </a>
                                        <a class="small text-secondary" href="#!"> &nbsp; 
                                            <i class="bi bi-people pe-1"></i> 
                                            Positions Avaliable: {{ app.position.people_needed }}
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                {% endfor %}
            </div>
            
            <div class="tab-pane fade" id="tab-2">
                <div class="row g-4">
                    <div class="col">
                        ...
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="tab-3">
                <div class="row g-4">
                    <div class="col">
                        ...
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>